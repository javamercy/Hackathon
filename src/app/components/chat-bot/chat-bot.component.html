<div class="chat-container">
  <div class="chat-bubble" (click)="toggleChat()">
    <i class="bi bi-chat-dots text-white fs-4"></i>
  </div>

  <div class="chat-window" *ngIf="isOpen">
    <div class="p-3 gradient-bg rounded-top">
      <div class="d-flex justify-content-between align-items-center">
        <h5 class="mb-0 text-white">Chat with us</h5>
        <i
          class="bi bi-x-lg text-white"
          style="cursor: pointer"
          (click)="toggleChat()"
        ></i>
      </div>
    </div>

    <div class="p-3" style="height: 350px; overflow-y: auto">
      <div
        *ngFor="let message of messages"
        class="mb-3"
        [ngClass]="{ 'text-end': message.sender === 'user' }"
      >
        <div
          [class]="
            message.sender === 'user' ? 'bg-primary text-white' : 'bg-light'
          "
          class="d-inline-block rounded p-2 px-3"
        >
          {{ message.text }}
        </div>
      </div>
    </div>

    <div class="p-3 border-top">
      <div class="input-group">
        <input
          type="text"
          class="form-control"
          placeholder="Type a message..."
          [(ngModel)]="newMessage"
          (keyup.enter)="sendMessage()"
        />
        <button class="btn btn-primary" (click)="sendMessage()">
          <i class="bi bi-send"></i>
        </button>
      </div>
    </div>
  </div>
</div>
